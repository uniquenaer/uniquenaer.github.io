<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="referrer" content="never">
    <title>demo</title>
    <meta name="description" content="兽人永不为奴~~~除非包吃又包住～～～">
    <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.32b66682.css" as="style"><link rel="preload" href="/assets/js/app.3184a6a2.js" as="script"><link rel="preload" href="/assets/js/21.116e62cc.js" as="script"><link rel="prefetch" href="/assets/js/20.92fe233b.js"><link rel="prefetch" href="/assets/js/2.d62d4ff9.js"><link rel="prefetch" href="/assets/js/3.802dab0f.js"><link rel="prefetch" href="/assets/js/4.dbcc2adb.js"><link rel="prefetch" href="/assets/js/5.4adea544.js"><link rel="prefetch" href="/assets/js/6.58de709a.js"><link rel="prefetch" href="/assets/js/7.a5a75c7e.js"><link rel="prefetch" href="/assets/js/8.7f2e495a.js"><link rel="prefetch" href="/assets/js/9.1291fa0e.js"><link rel="prefetch" href="/assets/js/10.2fabea8f.js"><link rel="prefetch" href="/assets/js/11.bb28ef39.js"><link rel="prefetch" href="/assets/js/12.6df783fa.js"><link rel="prefetch" href="/assets/js/13.fa4956cb.js"><link rel="prefetch" href="/assets/js/14.0df9074c.js"><link rel="prefetch" href="/assets/js/15.ce06c09b.js"><link rel="prefetch" href="/assets/js/16.efe0a9a7.js"><link rel="prefetch" href="/assets/js/17.4697c9db.js"><link rel="prefetch" href="/assets/js/18.babd3f94.js"><link rel="prefetch" href="/assets/js/19.3168d3d7.js"><link rel="prefetch" href="/assets/js/22.c1a16a7c.js"><link rel="prefetch" href="/assets/js/23.a1aed0ac.js"><link rel="prefetch" href="/assets/js/24.b0a62875.js"><link rel="prefetch" href="/assets/js/25.3ad846cd.js"><link rel="prefetch" href="/assets/js/26.4cdf21f1.js"><link rel="prefetch" href="/assets/js/27.9aad70b3.js"><link rel="prefetch" href="/assets/js/28.6159bc67.js"><link rel="prefetch" href="/assets/js/29.f3205a01.js"><link rel="prefetch" href="/assets/js/30.c6a75514.js"><link rel="prefetch" href="/assets/js/31.5d35c295.js"><link rel="prefetch" href="/assets/js/32.e8a88456.js"><link rel="prefetch" href="/assets/js/33.5763d28a.js"><link rel="prefetch" href="/assets/js/34.eef6dff6.js"><link rel="prefetch" href="/assets/js/35.c55b1d53.js"><link rel="prefetch" href="/assets/js/36.04ec4e4f.js"><link rel="prefetch" href="/assets/js/37.1445889e.js"><link rel="prefetch" href="/assets/js/38.c2369325.js"><link rel="prefetch" href="/assets/js/39.591d4a7a.js"><link rel="prefetch" href="/assets/js/40.8b2243c5.js"><link rel="prefetch" href="/assets/js/41.bd7ec86f.js"><link rel="prefetch" href="/assets/js/42.9aa2497b.js"><link rel="prefetch" href="/assets/js/43.70b2f705.js"><link rel="prefetch" href="/assets/js/44.e72dad09.js"><link rel="prefetch" href="/assets/js/45.0c0cf019.js"><link rel="prefetch" href="/assets/js/46.36fe7f81.js"><link rel="prefetch" href="/assets/js/47.5966ce65.js"><link rel="prefetch" href="/assets/js/48.44fd153d.js"><link rel="prefetch" href="/assets/js/49.4c65524f.js"><link rel="prefetch" href="/assets/js/50.e9e1beef.js"><link rel="prefetch" href="/assets/js/51.f67e5993.js"><link rel="prefetch" href="/assets/js/52.51f3a2dd.js"><link rel="prefetch" href="/assets/js/53.25eec254.js"><link rel="prefetch" href="/assets/js/54.3cb3da5d.js"><link rel="prefetch" href="/assets/js/55.659c7163.js"><link rel="prefetch" href="/assets/js/56.658cee8e.js"><link rel="prefetch" href="/assets/js/57.6b9778d2.js"><link rel="prefetch" href="/assets/js/58.37b95470.js"><link rel="prefetch" href="/assets/js/59.de5ddd5f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.32b66682.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" style="position:relative;"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="home-link router-link-active"><img src="/left-logo.png" alt="" class="logo"> <!----></div> <div class="search" style="max-width:-300px;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" placeholder="请输入组件名称" value=""> <!----></div></div> <div class="links" style="max-width:-300px;"><nav class="nav-links can-hide"><div class="nav-item"><a href="/front/git/doc.html" class="nav-link">大前端</a></div><div class="nav-item"><a href="/note/01.html" class="nav-link">读书笔记</a></div><div class="nav-item"><a href="/about.html" class="nav-link">关于</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/front/git/doc.html" class="nav-link">大前端</a></div><div class="nav-item"><a href="/note/01.html" class="nav-link">读书笔记</a></div><div class="nav-item"><a href="/about.html" class="nav-link">关于</a></div> <!----></nav> <!----></div> <div id="area" class="page"> <div class="content"><h1 id="快速上手"><a href="#快速上手" aria-hidden="true" class="header-anchor">#</a> 快速上手</h1> <blockquote><p>Lin 本身带有大量的概念与规范，本小节我们以图书管理这样一个简单的业务 demo 来梳理一下开发流程。</p></blockquote> <p>一个图书管理模块，首先包括图书列表查看和图书添加功能，我们需要这样两个页面承载，想要访问页面就需要规定相关的路由，通过路由我们访问到了页面，这时候就要获取api数据渲染到页面上，在获取数据的过程中，如果发现异常要及时进行处理。</p> <p>我们顺着这个思路来进行一一分析：</p> <h2 id="一、新建视图"><a href="#一、新建视图" aria-hidden="true" class="header-anchor">#</a> 一、新建视图</h2> <p>从业务逻辑分析，图书管理需要有图书列表与添加图书两个页面，先新建 <code>BookAdd.vue和BookList.vue</code> 两个文件。</p> <p>而 vue 属于单页应用，每个页面就是一个组件，按照层级关系，整个项目就是一个组件树，从跟组件依次往下，那么显然上面这两个组件，需要有一个共同的父组件来承载，所以我们再建一个 <code>Book.vue</code> 文件。</p> <p>如果对Lin的<a href="/lin/client/catalog.html">目录结构</a>不是非常清楚，可以先进行大致浏览。</p> <div class="imgWrapper" data-v-2c224345><img src="/assets/img/book.f0817f79.png" data-v-2c224345></div> <p>页面想要被访问需要有对应路由，接下来完成图书管理的路由配置，在 <code>src/router/modules/</code> 文件夹下，新建一个 <code>book.js</code> 文件：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">Book</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/book/Book'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">BookAdd</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/book/BookAdd'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">BookList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/book/BookList'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> bookRouter <span class="token operator">=</span> <span class="token punctuation">{</span>
  path<span class="token punctuation">:</span> <span class="token string">'/book'</span><span class="token punctuation">,</span>
  component<span class="token punctuation">:</span> Book<span class="token punctuation">,</span>
  meta<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'图书管理'</span><span class="token punctuation">,</span>
    <span class="token comment">// menuTab: true, // 如果想让二级菜单在右侧menuTab处展示，配置该属性</span>
    icon<span class="token punctuation">:</span> <span class="token string">'iconfont icon-demo'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/book/add'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> BookAdd<span class="token punctuation">,</span>
      meta<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        title<span class="token punctuation">:</span> <span class="token string">'添加图书'</span><span class="token punctuation">,</span>
        icon<span class="token punctuation">:</span> <span class="token string">'iconfont el-icon-setting'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/book/list'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> BookList<span class="token punctuation">,</span>
      meta<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        title<span class="token punctuation">:</span> <span class="token string">'图书列表'</span><span class="token punctuation">,</span>
        icon<span class="token punctuation">:</span> <span class="token string">'iconfont el-icon-setting'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> bookRouter
</code></pre></div><p>此时，我们只是把图书管理的路由文件建立，接下来需要将数据插入到整个路由树中：</p> <div class="imgWrapper" data-v-2c224345><img src="/assets/img/book1.8b43039a.png" data-v-2c224345></div> <p>到这里，已经可以看到图书管理的菜单和页面了。</p> <h2 id="二、通过模型层获取-api-数据"><a href="#二、通过模型层获取-api-数据" aria-hidden="true" class="header-anchor">#</a> 二、通过模型层获取 api 数据</h2> <p>图书列表页面，需要先从 api 获取到数据，并将其渲染到视图中。那么根据在<a href="/lin/client/model.html">模型层</a>中的介绍，将所有与 api 相关的处理，封装到 <code>models</code> 下面的一个 <code>book.js</code> 文件中。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">,</span> post<span class="token punctuation">,</span> put<span class="token punctuation">,</span> _delete <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils/http'</span>

<span class="token comment">// 我们通过 class 这样的语法糖使模型这个概念更加具象化，其优点：耦合性低、可维护性。</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token comment">// 类中的方法可以代表一个用户行为</span>
  <span class="token keyword">async</span> <span class="token function">addBook</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'v1/book'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> info <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
  <span class="token punctuation">}</span>

  <span class="token comment">// 在这里通过 async await 语法糖让代码同步执行</span>
  <span class="token comment">// 1. await 一定要搭配 async 来使用</span>
  <span class="token comment">// 2. await 后面跟的是一个 Promise 对象</span>
  <span class="token keyword">async</span> <span class="token function">editBook</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token string">'v1/book'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
  <span class="token punctuation">}</span>

  <span class="token comment">// static 方法修饰的成员不再属于某个对象，而是属于它所在的类。只需要通过其类名就可以访问，不需要再消耗资源反复创建对象。</span>
  <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token function">delectBook</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">_delete</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`v1/book/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token function">getBooks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'v1/book'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果在数据获取过程中，遇到异常情况，根据在<a href="/lin/client/exception.html">异常机制</a>的介绍，根据 api 返回的不同 <code>error_code</code> 将异常拦截在 <code>src/lin/utils/exception.js</code> 这个文件中进行处理。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> stateCode <span class="token keyword">from</span> <span class="token string">'@/config/error-code'</span>
<span class="token keyword">import</span> User <span class="token keyword">from</span> <span class="token string">'../models/user'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">tip</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> error_code<span class="token punctuation">,</span> msg <span class="token punctuation">}</span> <span class="token operator">=</span> params
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>error_code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">10050</span><span class="token punctuation">:</span> <span class="token comment">// 令牌过期</span>
      User<span class="token punctuation">.</span><span class="token function">getRefreshToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">break</span>
    <span class="token keyword">case</span> <span class="token number">10060</span><span class="token punctuation">:</span> <span class="token comment">// 字段重复</span>
      Vue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>
        message<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>msg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
      Vue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        message<span class="token punctuation">:</span> stateCode<span class="token punctuation">[</span>error_code<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">'未知的error_code'</span><span class="token punctuation">,</span>
        type<span class="token punctuation">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这里我们进行了全局异常拦截，但是如果你不想在全局处理异常，当然也是可以的，根据开发者自己的需求，在 api 获取过程中的任意流程都可以进行异常捕获处理。</p> <h2 id="三、管理页面权限"><a href="#三、管理页面权限" aria-hidden="true" class="header-anchor">#</a> 三、管理页面权限</h2> <p><a href="/lin/client/router-authority.html">权限的控制</a>有两种：</p> <ul><li>视图层的访问权限，也就是菜单根据权限来显示</li> <li>API 的操作权限</li></ul> <p>首先，一个管理员登录后，我们在 vuex 中保存了该管理员的所有权限（超级管理员除外，超级管理员根据身份判断权限），存储在 <code>store</code> 中，字段是 <code>auths</code> ，所以你可以通过下面的方式来获得：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/ecmascript-6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapGetters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用对象展开运算符将 getter 混入 computed 对象中</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">'auths'</span><span class="token punctuation">,</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>auths 的数据结构是一个一维数组：</p> <div class="imgWrapper" data-v-2c224345><img src="/assets/img/book2.97762978.png" data-v-2c224345></div> <p>在路由中添加参数：</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/book/list'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> BookList<span class="token punctuation">,</span>
      meta<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        title<span class="token punctuation">:</span> <span class="token string">'图书列表'</span><span class="token punctuation">,</span>
        icon<span class="token punctuation">:</span> <span class="token string">'iconfont el-icon-setting'</span><span class="token punctuation">,</span>
        auths<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'查看图书列表'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 如果有此权限路由显示，否则不显示</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>那么如果当前登录的管理员没有 <code>查看图书列表</code> 权限，则不显示该菜单，有权限则显示：</p> <div class="imgWrapper" data-v-2c224345><img src="/assets/img/book3.1feb8c91.png" style="display:inline-block;height:215px;" data-v-2c224345> <img src="/assets/img/book4.5c71844b.png" style="display:inline-block;height:215px;" data-v-2c224345></div> <p>同样的，API 级别的控制，我们也提供了相应的指令：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">v-auth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>编辑图书<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>编辑<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">v-auth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>删除图书<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>删除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果当前登录的管理员没有 <code>删除图书</code> 权限，则不显示该 dom，有权限则显示：</p> <div class="imgWrapper" data-v-2c224345><img src="/assets/img/book5.06451b4b.png" style="display:inline-block;height:215px;margin-right:10px;" data-v-2c224345> <img src="/assets/img/book6.d5065bb3.png" style="display:inline-block;height:215px;" data-v-2c224345></div> <div data-v-245db05e><ul class="rightMenuWrapper" data-v-245db05e></ul></div></div> <div class="page-edit"><!----> <!----></div> <!----> <div class="bsa-cpc-wrapper"><div class="bsa-cpc"></div></div></div> <!----> <img src="" style="position:absolute;width:135px;left:calc(100% / 2 + 50px);bottom:10px;transform:translateX(-50%);"></div></div>
    <script src="/assets/js/21.116e62cc.js" defer></script><script src="/assets/js/app.3184a6a2.js" defer></script>
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?c3446600de53c605ba4f6c792e47dff9";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  </body>
</html>
